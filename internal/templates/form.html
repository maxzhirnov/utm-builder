{{ define "content" }}
<div class="max-w-2xl mx-auto p-6">
    <h1 class="text-3xl font-bold mb-8">UTM Builder</h1>
    <form hx-post="/generate" hx-target="#result" class="space-y-6">
        <div>
            <label for="url" class="block text-sm font-medium text-gray-700">URL</label>
            <input type="url" id="url" name="url" required
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
        </div>

        <div>
            <label for="utm_source" class="block text-sm font-medium text-gray-700">Source</label>
            <select id="utm_source" name="utm_source"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                <option value="">Select source</option>
                {{range .Sources}}
                <option value="{{.}}">{{.}}</option>
                {{end}}
                <option value="custom">Custom source</option>
            </select>
            <input type="text" id="utm_source_custom" name="utm_source_custom" placeholder="Enter custom source"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 hidden">
        </div>

        <div>
            <label for="utm_medium" class="block text-sm font-medium text-gray-700">Medium</label>
            <select id="utm_medium" name="utm_medium"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                <option value="">Select medium</option>
                {{range .Mediums}}
                <option value="{{.}}">{{.}}</option>
                {{end}}
                <option value="custom">Custom medium</option>
            </select>
            <input type="text" id="utm_medium_custom" name="utm_medium_custom" placeholder="Enter custom medium"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 hidden">
        </div>

        <div>
            <label for="utm_campaign" class="block text-sm font-medium text-gray-700">Campaign</label>
            <input type="text" id="utm_campaign" name="utm_campaign"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
        </div>

        <div>
            <label for="utm_term" class="block text-sm font-medium text-gray-700">Term</label>
            <input type="text" id="utm_term" name="utm_term"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
        </div>

        <div>
            <label for="utm_content" class="block text-sm font-medium text-gray-700">Content</label>
            <input type="text" id="utm_content" name="utm_content"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
        </div>

        <button type="submit"
            class="w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
            Generate UTM Link
        </button>
    </form>

    <div id="result" class="mt-8"></div>
</div>

<script>
    // Show/hide custom input fields
    document.getElementById('utm_source').addEventListener('change', function() {
        const customInput = document.getElementById('utm_source_custom');
        customInput.classList.toggle('hidden', this.value !== 'custom');
    });

    document.getElementById('utm_medium').addEventListener('change', function() {
        const customInput = document.getElementById('utm_medium_custom');
        customInput.classList.toggle('hidden', this.value !== 'custom');
    });
</script>
{{ end }}
